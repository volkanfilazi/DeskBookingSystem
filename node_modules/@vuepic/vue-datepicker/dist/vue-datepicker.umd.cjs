(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";function Ie(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const $t=(t,r)=>{const a=c.parse(t,r.slice(0,t.length),new Date);return c.isValid(a)&&c.isDate(a)?a:null},jt=(t,r)=>{if(typeof r=="string")return $t(t,r);if(Array.isArray(r)){let a=null;for(const n of r)if(a=$t(t,n),a)break;return a}return typeof r=="function"?r(t):null},C=t=>t?new Date(t):new Date,Gt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${i}T${f}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Ce=t=>{let r=C(JSON.parse(JSON.stringify(t)));return r=c.setHours(r,0),r=c.setMinutes(r,0),r=c.setSeconds(r,0),r=c.setMilliseconds(r,0),r},De=(t,r,a,n)=>{let i=t?C(t):C();return(r||r===0)&&(i=c.setHours(i,+r)),(a||a===0)&&(i=c.setMinutes(i,+a)),(n||n===0)&&(i=c.setSeconds(i,+n)),c.setMilliseconds(i,0)},pe=(t,r)=>!t||!r?!1:c.isBefore(Ce(t),Ce(r)),oe=(t,r)=>!t||!r?!1:c.isEqual(Ce(t),Ce(r)),ge=(t,r)=>!t||!r?!1:c.isAfter(Ce(t),Ce(r)),Bt=(t,r,a)=>t&&t[0]&&t[1]?ge(a,t[0])&&pe(a,t[1]):t&&t[0]&&r?ge(a,t[0])&&pe(a,r)||pe(a,t[0])&&ge(a,r):!1,ve=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),St=()=>{const t=n=>{ve.menuFocused=n},r=n=>{ve.shiftKeyInMenu!==n&&(ve.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:ve.shiftKeyInMenu,menuFocused:ve.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Le={},Zt={get exports(){return Le},set exports(t){Le=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=r.default})(Zt,Le);const qt=Je(Le);var ze={},Xt={get exports(){return ze},set exports(t){ze=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=r.default})(Xt,ze);const Nt=Je(ze);function Jt(t,r){var a=tn(r);return a.formatToParts?Ft(a,t):en(a,t)}var Qt={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ft(t,r){try{for(var a=t.formatToParts(r),n=[],i=0;i<a.length;i++){var f=Qt[a[i].type];f>=0&&(n[f]=parseInt(a[i].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function en(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Qe={};function tn(t){if(!Qe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Qe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Qe[t]}function Fe(t,r,a,n,i,f,k){var M=new Date(0);return M.setUTCFullYear(t,r,a),M.setUTCHours(n,i,f,k),M}var Tt=36e5,nn=6e4,et={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tt(t,r,a){var n,i;if(!t||(n=et.timezoneZ.exec(t),n))return 0;var f;if(n=et.timezoneHH.exec(t),n)return f=parseInt(n[1],10),Pt(f)?-(f*Tt):NaN;if(n=et.timezoneHHMM.exec(t),n){f=parseInt(n[1],10);var k=parseInt(n[2],10);return Pt(f,k)?(i=Math.abs(f)*Tt+k*nn,f>0?-i:i):NaN}if(ln(t)){r=new Date(r||Date.now());var M=a?r:rn(r),_=nt(M,t),V=a?_:an(r,_,t);return-V}return NaN}function rn(t){return Fe(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function nt(t,r){var a=Jt(t,r),n=Fe(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),i=t.getTime(),f=i%1e3;return i-=f>=0?f:1e3+f,n-i}function an(t,r,a){var n=t.getTime(),i=n-r,f=nt(new Date(i),a);if(r===f)return r;i-=f-r;var k=nt(new Date(i),a);return f===k?f:Math.max(f,k)}function Pt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var At={};function ln(t){if(At[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),At[t]=!0,!0}catch{return!1}}var on=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Vt=on;var rt=36e5,_t=6e4,sn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Vt};function at(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?sn:qt(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=cn(t),f=un(i.date,n),k=f.year,M=f.restDateString,_=dn(M,k);if(isNaN(_))return new Date(NaN);if(_){var V=_.getTime(),O=0,S;if(i.time&&(O=fn(i.time),isNaN(O)))return new Date(NaN);if(i.timeZone||a.timeZone){if(S=tt(i.timeZone||a.timeZone,new Date(V+O)),isNaN(S))return new Date(NaN)}else S=Nt(new Date(V+O)),S=Nt(new Date(V+O+S));return new Date(V+O+S)}else return new Date(NaN)}function cn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var i=he.timeZone.exec(n);i?(r.time=n.replace(i[1],""),r.timeZone=i[1].trim()):r.time=n}return r}function un(t,r){var a=he.YYY[r],n=he.YYYYY[r],i;if(i=he.YYYY.exec(t)||n.exec(t),i){var f=i[1];return{year:parseInt(f,10),restDateString:t.slice(f.length)}}if(i=he.YY.exec(t)||a.exec(t),i){var k=i[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function dn(t,r){if(r===null)return null;var a,n,i,f;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),i=parseInt(a[1],10)-1,vt(r,i)?(n.setUTCFullYear(r,i),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return pn(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),i=parseInt(a[1],10)-1;var M=parseInt(a[2],10);return vt(r,i,M)?(n.setUTCFullYear(r,i,M),n):new Date(NaN)}if(a=he.Www.exec(t),a)return f=parseInt(a[1],10)-1,Ot(r,f)?Et(r,f):new Date(NaN);if(a=he.WwwD.exec(t),a){f=parseInt(a[1],10)-1;var _=parseInt(a[2],10)-1;return Ot(r,f,_)?Et(r,f,_):new Date(NaN)}return null}function fn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),lt(a)?a%24*rt:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),lt(a,n)?a%24*rt+n*_t:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var i=parseFloat(r[3].replace(",","."));return lt(a,n,i)?a%24*rt+n*_t+i*1e3:NaN}return null}function Et(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,f=r*7+a+1-i;return n.setUTCDate(n.getUTCDate()+f),n}var mn=[31,28,31,30,31,30,31,31,30,31,30,31],yn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Rt(t);if(n&&a>yn[r]||!n&&a>mn[r])return!1}return!0}function pn(t,r){if(r<1)return!1;var a=Rt(t);return!(a&&r>366||!a&&r>365)}function Ot(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function lt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var xe={},gn={get exports(){return xe},set exports(t){xe=t}},Ke={},hn={get exports(){return Ke},set exports(t){Ke=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(n[f]=i[f]);return n}t.exports=r.default})(hn,Ke),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(Ke);function n(f){return f&&f.__esModule?f:{default:f}}function i(f){return(0,a.default)({},f)}t.exports=r.default}(gn,xe);const kn=Je(xe);function wn(t,r,a){var n=at(t,a),i=tt(r,n,!0),f=new Date(n.getTime()-i),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}function bn(t,r,a){if(typeof t=="string"&&!t.match(Vt)){var n=kn(a);return n.timeZone=r,at(t,n)}var i=at(t,a),f=Fe(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),k=tt(r,new Date(f));return new Date(f+k)}const Dn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Cn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),i=a.slice(r+1,a.length);return[a[r]].concat(...i).concat(...n)},Mn=t=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:`${a}`});return r},$n=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const f=i<10?`0${i}`:i;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((i,f)=>({text:a.format(i),value:f}))},Bn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],de=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},Sn=t=>Object.assign({type:"dot"},t),Yt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ue={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fe=t=>t,It=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Nn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Tn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,Pn=(t,r,a)=>t||(typeof a=="string"?a:r),An=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),Vn=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),_n=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),be=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(Ue.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Nn(t.ariaLabels),textInputOptions:Object.assign(Vn(),t.textInputOptions),multiCalendars:Tn(t.multiCalendars),previewFormat:Pn(t.previewFormat,t.format,f()),filters:_n(t.filters),transitions:An(t.transitions),startTime:d()})),n=l=>{if(t.range)return l();throw new Error(Ue.prop("range"))},i=()=>{const l=t.enableSeconds?":ss":"";return t.is24?`HH:mm${l}`:`hh:mm${l} aa`},f=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",k=(l,y)=>{if(typeof t.format=="function")return t.format(l);const p=y||f(),w=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(l)?`${c.format(l[0],p,w)} ${t.modelAuto&&!l[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${l[1]?c.format(l[1],p,w):""}`:c.format(l,p,w)},M=l=>t.timezone?wn(l,t.timezone):l,_=l=>t.timezone?bn(l,t.timezone):l,V=e.computed(()=>l=>{var y;return(y=t.hideNavigation)==null?void 0:y.includes(l)}),O=l=>{const y=t.maxDate?ge(M(l),M(C(t.maxDate))):!1,p=t.minDate?pe(M(l),M(C(t.minDate))):!1,w=E(l,t.disabledDates),H=a.value.filters.months.map(ie=>+ie).includes(c.getMonth(l)),ne=t.disabledWeekDays.length?t.disabledWeekDays.some(ie=>+ie===c.getDay(l)):!1,m=t.allowedDates.length?!t.allowedDates.some(ie=>oe(M(C(ie)),M(l))):!1,o=c.getYear(l),U=o<+t.yearRange[0]||o>+t.yearRange[1];return!(y||p||w||H||U||ne||m)},S=l=>{const y={hours:c.getHours(C()),minutes:c.getMinutes(C()),seconds:c.getSeconds(C())};return Object.assign(y,l)},d=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[S(t.startTime[0]),S(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?S(t.startTime):null,B=l=>!O(l),L=l=>Array.isArray(l)?c.isValid(l[0])&&(l[1]?c.isValid(l[1]):!0):l?c.isValid(l):!1,R=l=>l instanceof Date?l:c.parseISO(l),Z=l=>{const y=c.startOfWeek(M(l),{weekStartsOn:+t.weekStart}),p=c.endOfWeek(M(l),{weekStartsOn:+t.weekStart});return[y,p]},E=(l,y)=>Array.isArray(y)?y.some(p=>oe(M(C(p)),M(l))):y(l),v=(l,y,p)=>{let w=l?C(l):C();return(y||y===0)&&(w=c.setMonth(w,y)),p&&(w=c.setYear(w,p)),w},A=l=>c.set(C(),{hours:c.getHours(l),minutes:c.getMinutes(l),seconds:c.getSeconds(l)}),K=l=>c.set(C(),{hours:+l.hours||0,minutes:+l.minutes||0,seconds:+l.seconds||0}),X=(l,y,p,w)=>{if(!l)return!0;if(w){const z=p==="max"?c.isBefore(l,y):c.isAfter(l,y),H={seconds:0,milliseconds:0};return z||c.isEqual(c.set(l,H),c.set(y,H))}return p==="max"?l.getTime()<=y.getTime():l.getTime()>=y.getTime()},F=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,te=l=>Array.isArray(l)?[l[0]?A(l[0]):null,l[1]?A(l[1]):null]:A(l),P=l=>{const y=t.maxTime?K(t.maxTime):C(t.maxDate);return Array.isArray(l)?X(l[0],y,"max",!!t.maxDate)&&X(l[1],y,"max",!!t.maxDate):X(l,y,"max",!!t.maxDate)},g=(l,y)=>{const p=t.minTime?K(t.minTime):C(t.minDate);return Array.isArray(l)?X(l[0],p,"min",!!t.minDate)&&X(l[1],p,"min",!!t.minDate)&&y:X(l,p,"min",!!t.minDate)&&y},T=l=>{let y=!0;if(!l||F())return!0;const p=!t.minDate&&!t.maxDate?te(l):l;return(t.maxTime||t.maxDate)&&(y=P(fe(p))),(t.minTime||t.minDate)&&(y=g(fe(p),y)),y},b=(l,y)=>{const p=C(JSON.parse(JSON.stringify(l))),w=[];for(let z=0;z<7;z++){const H=c.addDays(p,z),ne=c.getMonth(H)!==y;w.push({text:t.hideOffsetDates&&ne?"":H.getDate(),value:H,current:!ne,classData:{}})}return w},Y=(l,y)=>{const p=[],w=C(M(new Date(y,l))),z=C(M(new Date(y,l+1,0))),H=c.startOfWeek(w,{weekStartsOn:t.weekStart}),ne=m=>{const o=b(m,l);if(p.push({days:o}),!p[p.length-1].days.some(U=>oe(Ce(U.value),Ce(z)))){const U=c.addDays(m,7);ne(U)}};if(ne(H),t.sixWeeks&&p.length<6){const m=6-p.length;for(let o=1;o<=m;o++){const U=p[p.length-1],ie=U.days[U.days.length-1],ce=b(c.addDays(ie.value,1),c.getMonth(w));p.push({days:ce})}}return p},W=(l,y,p)=>[c.set(C(l),{date:1}),c.set(C(),{month:y,year:p,date:1})],G=(l,y)=>pe(...W(t.minDate,l,y))||oe(...W(t.minDate,l,y)),$=(l,y)=>ge(...W(t.maxDate,l,y))||oe(...W(t.maxDate,l,y)),N=(l,y,p)=>{let w=!1;return t.maxDate&&p&&$(l,y)&&(w=!0),t.minDate&&!p&&G(l,y)&&(w=!0),w};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:M,getZonedToUtc:_,formatDate:k,getDefaultPattern:f,validateDate:O,getDefaultStartTime:d,isDisabled:B,isValidDate:L,sanitizeDate:R,getWeekFromDate:Z,matchDate:E,setDateMonthOrYear:v,isValidTime:T,getCalendarDays:Y,validateMonthYearInRange:(l,y,p,w)=>{let z=!1;return w?t.minDate&&t.maxDate?z=N(l,y,p):(t.minDate&&G(l,y)||t.maxDate&&$(l,y))&&(z=!0):z=!0,z},validateMaxDate:$,validateMinDate:G,defaults:a,hideNavigationButtons:V}},le=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ot=e.ref(null),He=e.ref(!1),st=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),ke=e.ref(0),ye=e.ref(0),Ne=()=>{const t=e.computed(()=>He.value?[...le.selectionGrid,le.actionRow].filter(E=>E.length):st.value?[...le.timePicker[0],...le.timePicker[1],ct.value?[]:[ot.value],le.actionRow].filter(E=>E.length):it.value?[...le.monthPicker,le.actionRow]:[le.monthYear,...le.calendar,le.time,le.actionRow].filter(E=>E.length)),r=E=>{ke.value=E?ke.value+1:ke.value-1;let v=null;t.value[ye.value]&&(v=t.value[ye.value][ke.value]),v||(ke.value=E?ke.value-1:ke.value+1)},a=E=>{if(ye.value===0&&!E||ye.value===t.value.length&&E)return;ye.value=E?ye.value+1:ye.value-1,t.value[ye.value]?t.value[ye.value]&&!t.value[ye.value][ke.value]&&ke.value!==0&&(ke.value=t.value[ye.value].length-1):ye.value=E?ye.value-1:ye.value+1},n=E=>{let v=null;t.value[ye.value]&&(v=t.value[ye.value][ke.value]),v?v.focus({preventScroll:!He.value}):ke.value=E?ke.value-1:ke.value+1},i=()=>{r(!0),n(!0)},f=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},M=()=>{a(!0),n(!0)},_=(E,v)=>{le[v]=E},V=(E,v)=>{le[v]=E},O=()=>{ke.value=0,ye.value=0};return{buildMatrix:_,buildMultiLevelMatrix:V,setTimePickerBackRef:E=>{ot.value=E},setSelectionGrid:E=>{He.value=E,O(),E||(le.selectionGrid=[])},setTimePicker:(E,v=!1)=>{st.value=E,ct.value=v,O(),E||(le.timePicker[0]=[],le.timePicker[1]=[])},setTimePickerElements:(E,v=0)=>{le.timePicker[v]=E},arrowRight:i,arrowLeft:f,arrowUp:k,arrowDown:M,clearArrowNav:()=>{le.monthYear=[],le.calendar=[],le.time=[],le.actionRow=[],le.selectionGrid=[],le.timePicker[0]=[],le.timePicker[1]=[],He.value=!1,st.value=!1,ct.value=!1,it.value=!1,O(),ot.value=null},setMonthPicker:E=>{it.value=E,O()},refSets:le}},zt=t=>Array.isArray(t),Ve=t=>Array.isArray(t),xt=t=>Array.isArray(t)&&t.length===2,En=(t,r,a,n,i)=>{const{getDefaultStartTime:f,isDisabled:k,sanitizeDate:M,getWeekFromDate:_,setDateMonthOrYear:V,validateMonthYearInRange:O,defaults:S}=be(t),d=e.computed({get:()=>t.internalModelValue,set:s=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",s)}}),B=e.ref([]);e.watch(d,()=>{X()});const L=e.ref([{month:c.getMonth(C()),year:c.getYear(C())}]),R=e.reactive({hours:t.range?[c.getHours(C()),c.getHours(C())]:c.getHours(C()),minutes:t.range?[c.getMinutes(C()),c.getMinutes(C())]:c.getMinutes(C()),seconds:t.range?[0,0]:0}),Z=e.computed(()=>s=>L.value[s]?L.value[s].month:0),E=e.computed(()=>s=>L.value[s]?L.value[s].year:0),v=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?i.value===t.flow.length:!0),A=(s,D,x)=>{var q,se;L.value[s]||(L.value[s]={month:0,year:0}),L.value[s].month=D===null?(q=L.value[s])==null?void 0:q.month:D,L.value[s].year=x===null?(se=L.value[s])==null?void 0:se.year:x},K=(s,D)=>{R[s]=D};e.onMounted(()=>{d.value||(t.startDate&&(A(0,c.getMonth(C(t.startDate)),c.getYear(C(t.startDate))),S.value.multiCalendars&&re(0)),S.value.startTime&&$()),X(!0)});const X=(s=!1)=>{if(d.value)return Array.isArray(d.value)?(B.value=d.value,T(s)):te(d.value);if(t.timePicker)return b();if(t.monthPicker&&!t.range)return Y();if(t.yearPicker&&!t.range)return W();if(S.value.multiCalendars&&s&&!t.startDate)return F(C(),s)},F=(s,D=!1)=>{if((!S.value.multiCalendars||!t.multiStatic||D)&&A(0,c.getMonth(s),c.getYear(s)),S.value.multiCalendars)for(let x=1;x<S.value.multiCalendars;x++){const q=c.set(C(),{month:Z.value(x-1),year:E.value(x-1)}),se=c.add(q,{months:1});L.value[x]={month:c.getMonth(se),year:c.getYear(se)}}},te=s=>{F(s),K("hours",c.getHours(s)),K("minutes",c.getMinutes(s)),K("seconds",c.getSeconds(s))},P=(s,D)=>{F(s[0],D);const x=(q,se)=>[q(s[0]),s[1]?q(s[1]):R[se][1]];K("hours",x(c.getHours,"hours")),K("minutes",x(c.getMinutes,"minutes")),K("seconds",x(c.getSeconds,"seconds"))},g=(s,D)=>{if((t.range||t.weekPicker)&&!t.multiDates)return P(s,D);if(t.multiDates){const x=s[s.length-1];return te(x)}},T=s=>{const D=d.value;g(D,s),S.value.multiCalendars&&t.multiCalendarsSolo&&u()},b=()=>{if($(),!t.range)d.value=De(C(),R.hours,R.minutes,G());else{const s=R.hours,D=R.minutes;d.value=[De(C(),s[0],D[0],G()),De(C(),s[1],D[1],G(!1))]}},Y=()=>{d.value=V(C(),Z.value(0),E.value(0))},W=()=>{d.value=C()},G=(s=!0)=>t.enableSeconds?Array.isArray(R.seconds)?s?R.seconds[0]:R.seconds[1]:R.seconds:0,$=()=>{const s=f();if(s){const D=Array.isArray(s),x=D?[+s[0].hours,+s[1].hours]:+s.hours,q=D?[+s[0].minutes,+s[1].minutes]:+s.minutes,se=D?[+s[0].seconds,+s[1].seconds]:+s.seconds;K("hours",x),K("minutes",q),t.enableSeconds&&K("seconds",se)}},N=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,u=()=>{if(Array.isArray(d.value)&&d.value.length===2){const s=C(C(d.value[1]?d.value[1]:c.addMonths(d.value[0],1))),[D,x]=[c.getMonth(d.value[0]),c.getYear(d.value[0])],[q,se]=[c.getMonth(d.value[1]),c.getYear(d.value[1])];(D!==q||D===q&&x!==se)&&t.multiCalendarsSolo&&A(1,c.getMonth(s),c.getYear(s))}},l=s=>{const D=c.addMonths(s,1);return{month:c.getMonth(D),year:c.getYear(D)}},y=s=>{const D=c.getMonth(C(s)),x=c.getYear(C(s));if(A(0,D,x),S.value.multiCalendars>0)for(let q=1;q<S.value.multiCalendars;q++){const se=l(c.set(C(s),{year:Z.value(q-1),month:E.value(q-1)}));A(q,se.month,se.year)}},p=s=>{if(d.value&&Array.isArray(d.value))if(d.value.some(D=>oe(s,D))){const D=d.value.filter(x=>!oe(x,s));d.value=D.length?D:null}else(t.multiDatesLimit&&+t.multiDatesLimit>d.value.length||!t.multiDatesLimit)&&d.value.push(s);else d.value=[s]},w=(s,D)=>{const x=ge(s,D)?D:s,q=ge(D,s)?D:s;return c.eachDayOfInterval({start:x,end:q})},z=(s,D=0)=>{if(Array.isArray(d.value)&&d.value[D]){const x=c.differenceInCalendarDays(s,d.value[D]),q=w(d.value[D],s),se=q.length===1?0:q.filter(I=>k(I)).length,h=Math.abs(x)-se;if(t.minRange&&t.maxRange)return h>=+t.minRange&&h<=+t.maxRange;if(t.minRange)return h>=+t.minRange;if(t.maxRange)return h<=+t.maxRange}return!0},H=s=>Array.isArray(d.value)&&d.value.length===2?t.fixedStart&&(ge(s,d.value[0])||oe(s,d.value[0]))?[d.value[0],s]:t.fixedEnd&&(pe(s,d.value[1])||oe(s,d.value[1]))?[s,d.value[1]]:(r("invalid-fixed-range",s),d.value):[],ne=()=>{t.autoApply&&v.value&&r("auto-apply",t.partialFlow)},m=()=>{t.autoApply&&r("select-date")},o=s=>!c.eachDayOfInterval({start:s[0],end:s[1]}).some(x=>k(x)),U=s=>(d.value=_(C(s.value)),ne()),ie=s=>{const D=De(C(s.value),R.hours,R.minutes,G());t.multiDates?p(D):d.value=D,a(),ne()},ce=()=>{B.value=d.value?d.value.slice():[],B.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(B.value=[])},Me=(s,D)=>{const x=[C(s.value),c.addDays(C(s.value),+t.autoRange)];o(x)&&(D&&y(s.value),B.value=x)},Pe=s=>{J(s.value)||!z(s.value,t.fixedStart?0:1)||(B.value=H(C(s.value)))},J=s=>t.noDisabledRange?w(B.value[0],s).some(x=>k(x)):!1,Ae=(s,D)=>{if(ce(),t.autoRange)return Me(s,D);if(t.fixedStart||t.fixedEnd)return Pe(s);B.value[0]?z(C(s.value))&&!J(s.value)&&(pe(C(s.value),C(B.value[0]))?B.value.unshift(C(s.value)):B.value[1]=C(s.value)):B.value[0]=C(s.value)},$e=s=>{B.value[s]=De(B.value[s],R.hours[s],R.minutes[s],G(s!==1))},we=()=>{B.value.length&&(B.value[0]&&!B.value[1]?$e(0):($e(0),$e(1),a()),d.value=B.value.slice(),B.value[0]&&B.value[1]&&t.autoApply&&r("auto-apply"),B.value[0]&&!B.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},Q=(s,D=!1)=>{if(!(k(s.value)||!s.current&&t.hideOffsetDates)){if(t.weekPicker)return U(s);if(!t.range)return ie(s);Ve(R.hours)&&Ve(R.minutes)&&!t.multiDates&&(Ae(s,D),we())}},ae=s=>{const D=s[0];return t.weekNumbers==="local"?c.getWeek(D.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?c.getISOWeek(D.value):typeof t.weekNumbers=="function"?t.weekNumbers(D.value):""},re=s=>{for(let D=s-1;D>=0;D--){const x=c.subMonths(c.set(C(),{month:Z.value(D+1),year:E.value(D+1)}),1);A(D,c.getMonth(x),c.getYear(x))}for(let D=s+1;D<=S.value.multiCalendars-1;D++){const x=c.addMonths(c.set(C(),{month:Z.value(D-1),year:E.value(D-1)}),1);A(D,c.getMonth(x),c.getYear(x))}},Be=s=>V(C(),Z.value(s),E.value(s)),Se=s=>De(s,R.hours,R.minutes,G()),mt=(s,D)=>{const x=t.monthPicker?Z.value(s)!==D.month||!D.fromNav:E.value(s)!==D.year;if(A(s,D.month,D.year),S.value.multiCalendars&&!t.multiCalendarsSolo&&re(s),t.monthPicker||t.yearPicker)if(t.range){if(x){let q=d.value?d.value.slice():[];q.length===2&&q[1]!==null&&(q=[]),q.length?pe(Be(s),q[0])?q.unshift(Be(s)):q[1]=Be(s):q=[Be(s)],d.value=q}}else d.value=Be(s);r("update-month-year",{instance:s,month:D.month,year:D.year}),n(t.multiCalendarsSolo?s:void 0)},yt=async(s=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const D=t.monthPicker?s:!1;t.range?r("auto-apply",D||!d.value||d.value.length===1):r("auto-apply",D)}a()},Ge=(s,D)=>{const x=c.set(C(),{month:Z.value(D),year:E.value(D)}),q=s<0?c.addMonths(x,1):c.subMonths(x,1);O(c.getMonth(q),c.getYear(q),s<0,t.preventMinMaxNavigation)&&(A(D,c.getMonth(q),c.getYear(q)),S.value.multiCalendars&&!t.multiCalendarsSolo&&re(D),r("update-month-year",{instance:D,month:c.getMonth(q),year:c.getYear(q)}),n())},Ye=s=>{zt(s)&&zt(d.value)&&Ve(R.hours)&&Ve(R.minutes)?(s[0]&&d.value[0]&&(d.value[0]=De(s[0],R.hours[0],R.minutes[0],G())),s[1]&&d.value[1]&&(d.value[1]=De(s[1],R.hours[1],R.minutes[1],G(!1)))):t.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=Se(s):!t.range&&!xt(s)&&(d.value=Se(s)),r("time-update")},pt=(s,D=!0,x=!1)=>{const q=D?s:R.hours,se=!D&&!x?s:R.minutes,h=x?s:R.seconds;if(t.range&&xt(d.value)&&Ve(q)&&Ve(se)&&Ve(h)&&!t.disableTimeRangeValidation){const I=ue=>De(d.value[ue],q[ue],se[ue],h[ue]),me=ue=>c.setMilliseconds(d.value[ue],0);if(oe(d.value[0],d.value[1])&&(c.isAfter(I(0),me(1))||c.isBefore(I(1),me(0))))return}if(K("hours",q),K("minutes",se),K("seconds",h),d.value)if(t.multiDates){const I=N();I&&Ye(I)}else Ye(d.value);else t.timePicker&&Ye(t.range?[C(),C()]:C());a()},gt=(s,D)=>{t.monthChangeOnScroll&&Ge(t.monthChangeOnScroll!=="inverse"?-s.deltaY:s.deltaY,D)},ht=(s,D,x=!1)=>{t.monthChangeOnArrows&&t.vertical===x&&Ze(s,D)},Ze=(s,D)=>{Ge(s==="right"?-1:1,D)};return{time:R,month:Z,year:E,modelValue:d,calendars:L,monthYearSelect:yt,isDisabled:k,updateTime:pt,getWeekNum:ae,selectDate:Q,updateMonthYear:mt,handleScroll:gt,getMarker:s=>t.markers.find(D=>oe(M(s.value),M(D.date))),handleArrow:ht,handleSwipe:Ze,selectCurrentDate:()=>{t.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=pe(C(),d.value[0])?[C(),d.value[0]]:[d.value[0],C()]:d.value=[C()]:d.value=C(),m()},presetDateRange:(s,D)=>{D||s.length&&s.length<=2&&t.range&&(d.value=s.map(x=>C(x)),m(),t.multiCalendars&&e.nextTick().then(()=>X(!0)))}}},Rn=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:i,getZonedDate:f,formatDate:k,getDefaultPattern:M,checkRangeEnabled:_,checkPartialRangeValue:V,isValidDate:O,setDateMonthOrYear:S,defaults:d}=be(r),B=e.ref(""),L=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(L,()=>{l()});const R=o=>{const U=o||C();return r.modelType?p(U):{hours:c.getHours(U),minutes:c.getMinutes(U),seconds:r.enableSeconds?c.getSeconds(U):0}},Z=o=>r.modelType?p(o):{month:c.getMonth(o),year:c.getYear(o)},E=o=>Array.isArray(o)?_(()=>[c.setYear(C(),o[0]),o[1]?c.setYear(C(),o[1]):V()]):c.setYear(C(),+o),v=(o,U)=>(typeof o=="string"||typeof o=="number")&&r.modelType?y(o):U,A=o=>Array.isArray(o)?[v(o[0],De(null,+o[0].hours,+o[0].minutes,o[0].seconds)),v(o[1],De(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:v(o,De(null,o.hours,o.minutes,o.seconds)),K=o=>Array.isArray(o)?_(()=>[v(o[0],S(null,+o[0].month,+o[0].year)),v(o[1],o[1]?S(null,+o[1].month,+o[1].year):V())]):v(o,S(null,+o.month,+o.year)),X=o=>{if(Array.isArray(o))return o.map(U=>y(U));throw new Error(Ue.dateArr("multi-dates"))},F=o=>{if(Array.isArray(o))return[C(o[0]),C(o[1])];throw new Error(Ue.dateArr("week-picker"))},te=o=>r.modelAuto?Array.isArray(o)?[y(o[0]),y(o[1])]:r.autoApply?[y(o)]:[y(o),null]:Array.isArray(o)?_(()=>[y(o[0]),o[1]?y(o[1]):V()]):y(o),P=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(V())},g=()=>{const o=n.value;return[p(o[0]),o[1]?p(o[1]):V()]},T=()=>n.value[1]?g():p(fe(n.value[0])),b=()=>(n.value||[]).map(o=>p(o)),Y=()=>(P(),r.modelAuto?T():r.multiDates?b():Array.isArray(n.value)?_(()=>g()):p(fe(n.value))),W=o=>o?r.timePicker?A(fe(o)):r.monthPicker?K(fe(o)):r.yearPicker?E(fe(o)):r.multiDates?X(fe(o)):r.weekPicker?F(fe(o)):te(fe(o)):null,G=o=>{const U=W(o);O(fe(U))?(n.value=fe(U),l()):(n.value=null,B.value="")},$=()=>{var U;const o=ie=>{var ce;return c.format(ie,(ce=d.value.textInputOptions)==null?void 0:ce.format)};return`${o(n.value[0])} ${(U=d.value.textInputOptions)==null?void 0:U.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},N=()=>{var o;return a.value&&n.value?Array.isArray(n.value)?$():c.format(n.value,(o=d.value.textInputOptions)==null?void 0:o.format):k(n.value)},u=()=>{var o;return n.value?r.multiDates?n.value.map(U=>k(U)).join("; "):r.textInput&&typeof((o=d.value.textInputOptions)==null?void 0:o.format)=="string"?N():k(n.value):""},l=()=>{!r.format||typeof r.format=="string"?B.value=u():B.value=r.format(n.value)},y=o=>{if(r.utc){const U=new Date(o);return r.utc==="preserve"?new Date(U.getTime()+U.getTimezoneOffset()*6e4):U}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?f(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?c.parse(o,M(),new Date):f(c.parse(o,r.modelType,new Date)):f(new Date(o))},p=o=>o?r.utc?Gt(o,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+i(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(i(o)):k(i(o),r.modelType):i(o):"",w=o=>{t("update:model-value",o)},z=o=>Array.isArray(n.value)?[o(n.value[0]),n.value[1]?o(n.value[1]):V()]:o(fe(n.value)),H=o=>w(fe(z(o)));return{inputValue:B,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:G,formatInputValue:l,emitModelValue:()=>(l(),r.monthPicker?H(Z):r.timePicker?H(R):r.yearPicker?H(c.getYear):r.weekPicker?w(n.value):w(Y()))}},vn=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:i,defaults:f}=be(t),k=(S,d)=>{let B=S;return f.value.filters.months.includes(c.getMonth(B))?(B=d?c.addMonths(S,1):c.subMonths(S,1),k(B,d)):B},M=(S,d)=>{let B=S;return f.value.filters.years.includes(c.getYear(B))?(B=d?c.addYears(S,1):c.subYears(S,1),M(B,d)):B},_=S=>{const d=c.set(new Date,{month:t.month,year:t.year});let B=S?c.addMonths(d,1):c.subMonths(d,1),L=c.getMonth(B),R=c.getYear(B);f.value.filters.months.includes(L)&&(B=k(B,S),L=c.getMonth(B),R=c.getYear(B)),f.value.filters.years.includes(R)&&(B=M(B,S),R=c.getYear(B)),a(L,R,S,t.preventMinMaxNavigation)&&V(L,R)},V=(S,d)=>{r("update-month-year",{month:S,year:d})},O=e.computed(()=>S=>{if(!t.preventMinMaxNavigation||S&&!t.maxDate||!S&&!t.minDate)return!1;const d=c.set(new Date,{month:t.month,year:t.year}),B=S?c.addMonths(d,1):c.subMonths(d,1),L=[c.getMonth(B),c.getYear(B)];return S?!n(...L):!i(...L)});return{handleMonthYearChange:_,isDisabled:O,updateMonthYear:V}};var We=(t=>(t.center="center",t.left="left",t.right="right",t))(We||{});const On=(t,r,a,n)=>{const i=e.ref({top:"0",left:"0",transform:"none"}),f=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{R()});const M=P=>{if(n.teleport){const g=P.getBoundingClientRect();return{left:g.left+window.scrollX,top:g.top+window.scrollY}}return{top:0,left:0}},_=(P,g)=>{i.value.left=`${P+g}px`,i.value.transform="translateX(-100%)"},V=P=>{i.value.left=`${P}px`,i.value.transform="translateX(0)"},O=(P,g,T=!1)=>{n.position===We.left&&V(P),n.position===We.right&&_(P,g),n.position===We.center&&(i.value.left=`${P+g/2}px`,i.value.transform=T?"translate(-50%, -50%)":"translateX(-50%)")},S=P=>{const{width:g,height:T}=P.getBoundingClientRect(),{top:b,left:Y}=n.altPosition?n.altPosition(P):M(P);return{top:+b,left:+Y,width:g,height:T}},d=()=>{const P=de(r);if(P){const{top:g,left:T,width:b,height:Y}=S(P);i.value.top=`${g+Y/2}px`,i.value.transform="translateY(-50%)",O(T,b,!0)}},B=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},L=()=>{const P=de(r),{top:g,left:T,transform:b}=n.altPosition(P);i.value={top:`${g}px`,left:`${T}px`,transform:b||""}},R=(P=!0)=>{if(!n.inline)return k.value?B():n.altPosition!==null?L():(P&&a("recalculate-position"),X())},Z=({inputEl:P,menuEl:g,left:T,width:b})=>{window.screen.width>768&&O(T,b),A(P,g)},E=(P,g)=>{const{top:T,left:b,height:Y,width:W}=S(P);i.value.top=`${Y+T+ +n.offset}px`,Z({inputEl:P,menuEl:g,left:b,width:W}),f.value=!1},v=(P,g)=>{const{top:T,left:b,width:Y}=S(P),{height:W}=g.getBoundingClientRect();i.value.top=`${T-W-+n.offset}px`,Z({inputEl:P,menuEl:g,left:b,width:Y}),f.value=!0},A=(P,g)=>{if(n.autoPosition){const{left:T,width:b}=S(P),{left:Y,right:W}=g.getBoundingClientRect();return Y<=0||Y<=T?V(T):W>=document.documentElement.clientWidth?_(T,b):O(T,b)}},K=(P,g)=>{const{height:T}=g.getBoundingClientRect(),{top:b,height:Y}=P.getBoundingClientRect(),G=window.innerHeight-b-Y,$=b;return T<=G?E(P,g):T>G&&T<=$?v(P,g):G>=$?E(P,g):v(P,g)},X=()=>{const P=de(r),g=de(t);if(P&&g)return n.autoPosition?K(P,g):E(P,g)},F=function(P){if(P){const g=P.scrollHeight>P.clientHeight,b=window.getComputedStyle(P).overflowY.indexOf("hidden")!==-1;return g&&!b}return!0},te=function(P){return!P||P===document.body?window:F(P)?P:te(P.parentNode)};return{openOnTop:f,menuPosition:i,setMenuPosition:R,setInitialPosition:d,getScrollableParent:te}},Ee=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],Yn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],In={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>Yn,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu"))},_e=(t,r,a)=>{const n=[];return In[r]().forEach(i=>{t[i.name]&&n.push(i.name)}),a&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},je=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Te={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},Ln=["aria-label","aria-disabled","aria-readonly"],zn={key:1,class:"dp__input_wrap"},xn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Kn={key:2,class:"dp__input_icon"},Un={key:4,class:"dp__clear_icon"},Hn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Te},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:i,isValidDate:f,defaults:k}=be(n),M=e.ref(),_=e.ref(null),V=e.ref(!1),O=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:V.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),S=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),M.value=null)},d=g=>{var T;return jt(g,((T=k.value.textInputOptions)==null?void 0:T.format)||i())},B=g=>{const{rangeSeparator:T}=k.value.textInputOptions,[b,Y]=g.split(`${T}`);if(b){const W=d(b.trim()),G=Y?d(Y.trim()):null,$=W&&G?[W,G]:[W];M.value=W?$:null}},L=g=>{if(n.range)B(g);else if(n.multiDates){const T=g.split(";");M.value=T.map(b=>d(b.trim())).filter(b=>b)}else M.value=d(g)},R=g=>{var b;const{value:T}=g.target;T!==""?((b=k.value.textInputOptions)!=null&&b.openMenu&&!n.isMenuOpen&&a("open"),L(T),a("set-input-date",M.value)):S(),a("update:input-value",T)},Z=()=>{var g,T;(g=k.value.textInputOptions)!=null&&g.enterSubmit&&f(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.enterSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},E=()=>{var g,T;(g=k.value.textInputOptions)!=null&&g.tabSubmit&&f(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.tabSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},v=()=>{V.value=!0,a("focus")},A=g=>{var T;g.preventDefault(),g.stopImmediatePropagation(),g.stopPropagation(),n.textInput&&((T=k.value.textInputOptions)!=null&&T.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},K=()=>{V.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&M.value&&(a("set-input-date",M.value),a("select-date"),M.value=null)},X=()=>{a("clear")},F=g=>{n.textInput||g.preventDefault()};return r({focusInput:()=>{_.value&&_.value.focus({preventScroll:!0})},setParsedDate:g=>{M.value=g}}),(g,T)=>{var b;return e.openBlock(),e.createElementBlock("div",{onClick:A,"aria-label":(b=e.unref(k).ariaLabels)==null?void 0:b.input,role:"textbox","aria-multiline":"false","aria-disabled":g.disabled,"aria-readonly":g.readonly},[g.$slots.trigger&&!g.$slots["dp-input"]&&!g.inline?e.renderSlot(g.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!g.$slots.trigger&&(!g.inline||g.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",zn,[g.$slots["dp-input"]&&!g.$slots.trigger&&!g.inline?e.renderSlot(g.$slots,"dp-input",{key:0,value:t.inputValue,onInput:R,onEnter:Z,onTab:E,onClear:X}):e.createCommentVNode("",!0),g.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:_,id:g.uid?`dp-input-${g.uid}`:void 0,name:g.name,class:e.normalizeClass(e.unref(O)),inputmode:g.textInput?"text":"none",placeholder:g.placeholder,disabled:g.disabled,readonly:g.readonly,required:g.required,value:t.inputValue,autocomplete:g.autocomplete,onInput:R,onKeydown:[e.withKeys(A,["enter"]),e.withKeys(E,["tab"]),F],onBlur:K,onFocus:v,onKeypress:F},null,42,xn)),g.$slots["input-icon"]&&!g.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Kn,[e.renderSlot(g.$slots,"input-icon")])):e.createCommentVNode("",!0),!g.$slots["input-icon"]&&!g.hideInputIcon&&!g.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ie),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),g.$slots["clear-icon"]&&t.inputValue&&g.clearable&&!g.disabled&&!g.readonly?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(g.$slots,"clear-icon",{clear:X})])):e.createCommentVNode("",!0),g.clearable&&!g.$slots["clear-icon"]&&t.inputValue&&!g.disabled&&!g.readonly?(e.openBlock(),e.createBlock(e.unref(Wt),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(X,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,Ln)}}}),Wn={class:"dp__selection_preview"},jn={class:"dp__action_buttons"},Gn=["onKeydown"],Zn=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:i,defaults:f}=be(a),{buildMatrix:k}=Ne(),M=e.ref(null),_=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([de(M),de(_)],"actionRow")});const V=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),O=e.computed(()=>!d.value||!B.value||!V.value),S=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:O.value})),d=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:i(a.internalModelValue)),B=e.computed(()=>a.monthPicker?E(a.internalModelValue):!0),L=()=>{const A=f.value.previewFormat;return a.timePicker||a.monthPicker,A(fe(a.internalModelValue))},R=()=>{const A=a.internalModelValue;return f.value.multiCalendars>0?`${n(A[0])} - ${n(A[1])}`:[n(A[0]),n(A[1])]},Z=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof f.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?R():a.multiDates?a.internalModelValue.map(A=>`${n(A)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):L()),E=A=>{if(!a.monthPicker)return!0;let K=!0;return a.minDate&&a.maxDate?ge(C(A),C(a.minDate))&&pe(C(A),C(a.maxDate)):(a.minDate&&(K=ge(C(A),C(a.minDate))),a.maxDate&&(K=pe(C(A),C(a.maxDate))),K)},v=()=>{d.value&&B.value&&V.value?r("select-date"):r("invalid-select")};return(A,K)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[A.$slots["action-row"]?e.renderSlot(A.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(O),selectDate:()=>A.$emit("select-date"),closePicker:()=>A.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Wn,[A.$slots["action-preview"]?e.renderSlot(A.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),A.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(Z))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(Z)),1)],64)),Array.isArray(e.unref(Z))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(Z),(X,F)=>(e.openBlock(),e.createElementBlock("div",{key:F},e.toDisplayString(X),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",jn,[A.$slots["action-select"]?e.renderSlot(A.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),A.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[A.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:M,tabindex:"0",onClick:K[0]||(K[0]=X=>A.$emit("close-picker")),onKeydown:[K[1]||(K[1]=e.withKeys(X=>A.$emit("close-picker"),["enter"])),K[2]||(K[2]=e.withKeys(X=>A.$emit("close-picker"),["space"]))]},e.toDisplayString(A.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(S)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,"data-test":"select-button",ref_key:"selectButtonRef",ref:_},e.toDisplayString(A.selectText),43,Gn)],64))])],64))],4))}}),qn=["aria-label"],Xn={class:"dp__calendar_header",role:"row"},Jn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Fn=["aria-label"],er={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},tr={class:"dp__cell_inner"},nr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],rr=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),ar=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:i}=Ne(),{setDateMonthOrYear:f,defaults:k}=be(n),M=e.ref(null),_=e.ref({bottom:"",left:"",transform:""}),V=e.ref([]),O=e.ref(null),S=e.ref(!0),d=e.ref(""),B=e.ref({startX:0,endX:0,startY:0,endY:0}),L=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Cn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:V}),n.noSwipe||O.value&&(O.value.addEventListener("touchstart",g,{passive:!1}),O.value.addEventListener("touchend",T,{passive:!1}),O.value.addEventListener("touchmove",b,{passive:!1})),n.monthChangeOnScroll&&O.value&&O.value.addEventListener("wheel",G,{passive:!1})});const R=$=>$?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",Z=($,N)=>{if(n.transitions){const u=Ce(f(C(),n.month,n.year));d.value=ge(Ce(f(C(),$,N)),u)?k.value.transitions[R(!0)]:k.value.transitions[R(!1)],S.value=!1,e.nextTick(()=>{S.value=!0})}},E=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),v=e.computed(()=>$=>{const N=Sn($);return{dp__marker_dot:N.type==="dot",dp__marker_line:N.type==="line"}}),A=e.computed(()=>$=>oe($,M.value)),K=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),X=e.computed(()=>$=>n.hideOffsetDates?$.current:!0),F=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),te=($,N,u)=>{var l,y;if(a("set-hover-date",$),(y=(l=$.marker)==null?void 0:l.tooltip)!=null&&y.length){const p=de(V.value[N][u]);if(p){const{width:w,height:z}=p.getBoundingClientRect();_.value={bottom:`${z}px`,left:`${w/2}px`,transform:"translateX(-50%)"},M.value=$.value,a("tooltip-open",$.marker)}}},P=$=>{M.value&&(M.value=null,a("tooltip-close",$.marker))},g=$=>{B.value.startX=$.changedTouches[0].screenX,B.value.startY=$.changedTouches[0].screenY},T=$=>{B.value.endX=$.changedTouches[0].screenX,B.value.endY=$.changedTouches[0].screenY,Y()},b=$=>{n.vertical&&!n.inline&&$.preventDefault()},Y=()=>{const $=n.vertical?"Y":"X";Math.abs(B.value[`start${$}`]-B.value[`end${$}`])>10&&a("handle-swipe",B.value[`start${$}`]>B.value[`end${$}`]?"right":"left")},W=($,N,u)=>{$&&(Array.isArray(V.value[N])?V.value[N][u]=$:V.value[N]=[$]),n.arrowNavigation&&i(V.value,"calendar")},G=$=>{n.monthChangeOnScroll&&($.preventDefault(),a("handle-scroll",$))};return r({triggerTransition:Z}),($,N)=>{var u;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(K))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(F))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:O,class:e.normalizeClass(e.unref(E)),role:"grid","aria-label":(u=e.unref(k).ariaLabels)==null?void 0:u.calendarWrap},[e.createElementVNode("div",Xn,[$.weekNumbers?(e.openBlock(),e.createElementBlock("div",Jn,e.toDisplayString($.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(L),(l,y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:y,"data-test":"calendar-header"},[$.$slots["calendar-header"]?e.renderSlot($.$slots,"calendar-header",{key:0,day:l,index:y}):e.createCommentVNode("",!0),$.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),Qn,e.createVNode(e.Transition,{name:d.value,css:!!$.transitions},{default:e.withCtx(()=>{var l;return[S.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(y,p)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:p},[$.weekNumbers?(e.openBlock(),e.createElementBlock("div",er,[e.createElementVNode("div",tr,e.toDisplayString(t.getWeekNum(y.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.days,(w,z)=>{var H,ne,m;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:o=>W(o,p,z),key:z+p,"aria-selected":w.classData.dp__active_date||w.classData.dp__range_start||w.classData.dp__range_start,"aria-disabled":w.classData.dp__cell_disabled,"aria-label":(ne=(H=e.unref(k).ariaLabels)==null?void 0:H.day)==null?void 0:ne.call(H,w),tabindex:"0","data-test":w.value,onClick:e.withModifiers(o=>$.$emit("select-date",w),["stop","prevent"]),onKeydown:[e.withKeys(o=>$.$emit("select-date",w),["enter"]),e.withKeys(o=>$.$emit("handle-space",w),["space"])],onMouseenter:o=>te(w,p,z),onMouseleave:o=>P(w)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",w.classData])},[$.$slots.day&&e.unref(X)(w)?e.renderSlot($.$slots,"day",{key:0,day:+w.text,date:w.value}):e.createCommentVNode("",!0),$.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64)),w.marker&&e.unref(X)(w)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(v)(w.marker)),style:e.normalizeStyle(w.marker.color?{backgroundColor:w.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(A)(w.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(_.value)},[(m=w.marker)!=null&&m.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:N[0]||(N[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.marker.tooltip,(o,U)=>(e.openBlock(),e.createElementBlock("div",{key:U,class:"dp__tooltip_text"},[$.$slots["marker-tooltip"]?e.renderSlot($.$slots,"marker-tooltip",{key:0,tooltip:o,day:w.value}):e.createCommentVNode("",!0),$.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(o.color?{backgroundColor:o.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(o.text),1)],64))]))),128)),rr])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,nr)}),128))]))),128))],8,Fn)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,qn))],4)],2)}}}),lr=["aria-label","aria-disabled"],ut=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=f=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),i[2]||(i[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,lr))}}),or=["onKeydown"],sr={class:"dp__selection_grid_header"},ir=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],cr=["aria-label","onKeydown"],Oe=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:i,buildMultiLevelMatrix:f,setMonthPicker:k}=Ne(),{hideNavigationButtons:M}=be(n),_=e.ref(!1),V=e.ref(null),O=e.ref(null),S=e.ref([]),d=e.ref(),B=e.ref(null),L=e.ref(0),R=e.ref(null);e.onBeforeUpdate(()=>{V.value=null}),e.onMounted(()=>{e.nextTick().then(()=>g()),E(),Z(!0)}),e.onUnmounted(()=>Z(!1));const Z=N=>{var u;n.arrowNavigation&&((u=n.headerRefs)!=null&&u.length?k(N):i(N))},E=()=>{const N=de(O);N&&(n.textInput||N.focus({preventScroll:!0}),_.value=N.clientHeight<N.scrollHeight)},v=e.computed(()=>({dp__overlay:!0})),A=e.computed(()=>({dp__overlay_col:!0})),K=N=>n.skipActive?!1:N.value===n.modelValue,X=e.computed(()=>n.items.map(N=>N.filter(u=>u).map(u=>{var p,w,z;const l=n.disabledValues.some(H=>H===u.value)||P(u.value),y=(p=n.multiModelValue)!=null&&p.length?(w=n.multiModelValue)==null?void 0:w.some(H=>oe(H,c.setYear(n.monthPicker?c.setMonth(new Date,u.value):new Date,n.monthPicker?n.year:u.value))):K(u);return{...u,className:{dp__overlay_cell_active:y,dp__overlay_cell:!y,dp__overlay_cell_disabled:l,dp__overlay_cell_active_disabled:l&&y,dp__overlay_cell_pad:!0,dp__cell_in_between:(z=n.multiModelValue)!=null&&z.length?b(u.value):!1}}}))),F=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:_.value,dp__button_bottom:n.autoApply})),te=e.computed(()=>{var N,u;return{dp__overlay_container:!0,dp__container_flex:((N=n.items)==null?void 0:N.length)<=6,dp__container_block:((u=n.items)==null?void 0:u.length)>6}}),P=N=>{const u=n.maxValue||n.maxValue===0,l=n.minValue||n.minValue===0;return!u&&!l?!1:u&&l?+N>+n.maxValue||+N<+n.minValue:u?+N>+n.maxValue:l?+N<+n.minValue:!1},g=()=>{const N=de(V),u=de(O),l=de(B),y=de(R),p=l?l.getBoundingClientRect().height:0;u&&(L.value=u.getBoundingClientRect().height-p),N&&y&&(y.scrollTop=N.offsetTop-y.offsetTop-(L.value/2-N.getBoundingClientRect().height)-p)},T=N=>{!n.disabledValues.some(u=>u===N)&&!P(N)&&(a("update:model-value",N),a("selected"))},b=N=>{const u=n.monthPicker?n.year:N;return Bt(n.multiModelValue,c.setYear(n.monthPicker?c.setMonth(new Date,d.value||0):new Date,n.monthPicker?u:d.value||u),c.setYear(n.monthPicker?c.setMonth(new Date,N):new Date,u))},Y=()=>{a("toggle"),a("reset-flow")},W=()=>{n.escClose&&Y()},G=(N,u,l,y)=>{N&&(u.value===+n.modelValue&&!n.disabledValues.includes(u.value)&&(V.value=N),n.arrowNavigation&&(Array.isArray(S.value[l])?S.value[l][y]=N:S.value[l]=[N],$()))},$=()=>{var u,l;const N=(u=n.headerRefs)!=null&&u.length?[n.headerRefs].concat(S.value):S.value.concat([n.skipButtonRef?[]:[B.value]]);f(fe(N),(l=n.headerRefs)!=null&&l.length?"monthPicker":"selectionGrid")};return r({focusGrid:E}),(N,u)=>{var l;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:O,class:e.normalizeClass(e.unref(v)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(W,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(te)),ref_key:"containerRef",ref:R,role:"grid",style:e.normalizeStyle({height:`${L.value}px`})},[e.createElementVNode("div",sr,[e.renderSlot(N.$slots,"header")]),N.$slots.overlay?e.renderSlot(N.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(X),(y,p)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:p,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y,(w,z)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(A)),key:w.value,"aria-selected":w.value===t.modelValue&&!t.disabledValues.includes(w.value),"aria-disabled":w.className.dp__overlay_cell_disabled,ref_for:!0,ref:H=>G(H,w,p,z),tabindex:"0","data-test":w.text,onClick:H=>T(w.value),onKeydown:[e.withKeys(H=>T(w.value),["enter"]),e.withKeys(H=>T(w.value),["space"])],onMouseover:H=>d.value=w.value},[e.createElementVNode("div",{class:e.normalizeClass(w.className)},[N.$slots.item?e.renderSlot(N.$slots,"item",{key:0,item:w}):e.createCommentVNode("",!0),N.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64))],2)],42,ir))),128))]))),128))],6),N.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(l=t.ariaLabels)==null?void 0:l.toggleOverlay,class:e.normalizeClass(e.unref(F)),tabindex:"0",ref_key:"toggleButton",ref:B,onClick:Y,onKeydown:e.withKeys(Y,["enter"])},[e.renderSlot(N.$slots,"button-icon")],42,cr)),[[e.vShow,!e.unref(M)(t.type)]]):e.createCommentVNode("",!0)],42,or)}}}),ur=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:i}=je(a.transitions),f=e.ref(null);return e.onMounted(()=>r("set-ref",f)),(k,M)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:M[0]||(M[0]=_=>k.$emit("toggle")),onKeydown:[M[1]||(M[1]=e.withKeys(_=>k.$emit("toggle"),["enter"])),M[2]||(M[2]=e.withKeys(_=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:f},[e.renderSlot(k.$slots,"default")],40,ur),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(i)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Oe,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":M[3]||(M[3]=_=>k.$emit("update:model-value",_)),onToggle:M[4]||(M[4]=_=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:_})=>[e.renderSlot(k.$slots,t.slotName,{item:_})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),dr={class:"dp__month_year_row"},fr={class:"dp__month_year_wrap"},mr={class:"dp__month_picker_header"},yr=["aria-label"],pr=["aria-label"],gr=["aria-label"],hr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:i}=be(n),{transitionName:f,showTransition:k}=je(i.value.transitions),{buildMatrix:M}=Ne(),{handleMonthYearChange:_,isDisabled:V,updateMonthYear:O}=vn(n,a),S=e.ref(!1),d=e.ref(!1),B=e.ref([null,null,null,null]),L=e.ref(null),R=e.ref(null),Z=e.ref(null);e.onMounted(()=>{a("mount")});const E=m=>({get:()=>n[m],set:o=>{const U=m==="month"?"year":"month";a("update-month-year",{[m]:o,[U]:n[U]}),a("month-year-select",m==="year"),m==="month"?p(!0):w(!0)}}),v=e.computed(E("month")),A=e.computed(E("year")),K=m=>{const o=c.getYear(C(m));return n.year===o},X=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(m=>C(m)).filter(m=>K(m)).map(m=>c.getMonth(m)):[]:[]),F=e.computed(()=>m=>{const o=m==="month";return{showSelectionGrid:(o?S:d).value,items:(o?N:u).value,disabledValues:i.value.filters[o?"months":"years"].concat(X.value),minValue:(o?T:P).value,maxValue:(o?b:g).value,headerRefs:o&&n.monthPicker?[L.value,R.value,Z.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),te=e.computed(()=>m=>({month:n.month,year:n.year,items:m==="month"?n.months:n.years,instance:n.instance,updateMonthYear:O,toggle:m==="month"?p:w})),P=e.computed(()=>n.minDate?c.getYear(C(n.minDate)):null),g=e.computed(()=>n.maxDate?c.getYear(C(n.maxDate)):null),T=e.computed(()=>{if(n.minDate&&P.value){if(P.value>n.year)return 12;if(P.value===n.year)return c.getMonth(C(n.minDate))}return null}),b=e.computed(()=>n.maxDate&&g.value?g.value<n.year?-1:g.value===n.year?c.getMonth(C(n.maxDate)):null:null),Y=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),W=m=>m.reverse(),G=(m,o=!1)=>{const U=[],ie=ce=>o?W(ce):ce;for(let ce=0;ce<m.length;ce+=3){const Me=[m[ce],m[ce+1],m[ce+2]];U.push(ie(Me))}return o?U.reverse():U},$=e.computed(()=>{const m=n.months.find(o=>o.value===n.month);return m||{text:"",value:0}}),N=e.computed(()=>G(n.months)),u=e.computed(()=>G(n.years,n.reverseYears)),l=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),y=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),p=(m=!1)=>{z(m),S.value=!S.value,S.value||a("overlay-closed")},w=(m=!1)=>{z(m),d.value=!d.value,d.value||a("overlay-closed")},z=m=>{m||a("reset-flow")},H=(m=!1)=>{V.value(m)||a("update-month-year",{year:m?n.year+1:n.year-1,month:n.month,fromNav:!0})},ne=(m,o)=>{n.arrowNavigation&&(B.value[o]=de(m),M(B.value,"monthYear"))};return r({toggleMonthPicker:p,toggleYearPicker:w,handleMonthYearChange:_}),(m,o)=>{var U,ie,ce,Me,Pe;return e.openBlock(),e.createElementBlock("div",dr,[m.$slots["month-year"]?e.renderSlot(m.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(O),handleMonthYearChange:e.unref(_),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!m.monthPicker&&!m.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(l)&&!m.vertical?(e.openBlock(),e.createBlock(ut,{key:0,"aria-label":(U=e.unref(i).ariaLabels)==null?void 0:U.prevMonth,disabled:e.unref(V)(!1),onActivate:o[0]||(o[0]=J=>e.unref(_)(!1)),onSetRef:o[1]||(o[1]=J=>ne(J,0))},{default:e.withCtx(()=>[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",fr,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ie=e.unref(i).ariaLabels)==null?void 0:ie.openMonthsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":o[2]||(o[2]=J=>e.isRef(v)?v.value=J:null)},e.unref(F)("month"),{onToggle:p,onSetRef:o[3]||(o[3]=J=>ne(J,1))}),e.createSlots({default:e.withCtx(()=>[m.$slots.month?e.renderSlot(m.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref($)))):e.createCommentVNode("",!0),m.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref($).text),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,m.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("month"))))]),key:"2"}:void 0,m.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay-header",{toggle:p})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ce=e.unref(i).ariaLabels)==null?void 0:ce.openYearsOverlay,modelValue:e.unref(A),"onUpdate:modelValue":o[4]||(o[4]=J=>e.isRef(A)?A.value=J:null)},e.unref(F)("year"),{onToggle:w,onSetRef:o[5]||(o[5]=J=>ne(J,2))}),e.createSlots({default:e.withCtx(()=>[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,m.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("year"))))]),key:"2"}:void 0,m.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay-header",{toggle:w})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(l)&&m.vertical?(e.openBlock(),e.createBlock(ut,{key:1,"aria-label":(Me=e.unref(i).ariaLabels)==null?void 0:Me.prevMonth,disabled:e.unref(V)(!1),onActivate:o[6]||(o[6]=J=>e.unref(_)(!1))},{default:e.withCtx(()=>[m.$slots["arrow-up"]?e.renderSlot(m.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(y)?(e.openBlock(),e.createBlock(ut,{key:2,ref:"rightIcon",disabled:e.unref(V)(!0),"aria-label":(Pe=e.unref(i).ariaLabels)==null?void 0:Pe.nextMonth,onActivate:o[7]||(o[7]=J=>e.unref(_)(!0)),onSetRef:o[8]||(o[8]=J=>ne(J,3))},{default:e.withCtx(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.renderSlot(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m.vertical?e.unref(Mt):e.unref(bt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),m.monthPicker?(e.openBlock(),e.createBlock(Oe,e.mergeProps({key:1},e.unref(F)("month"),{"skip-active":m.range,year:t.year,"multi-model-value":e.unref(Y),"month-picker":"",modelValue:e.unref(v),"onUpdate:modelValue":o[17]||(o[17]=J=>e.isRef(v)?v.value=J:null),onToggle:p,onSelected:o[18]||(o[18]=J=>m.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var J,Ae,$e;return[e.createElementVNode("div",mr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:L,onClick:o[9]||(o[9]=we=>H(!1)),onKeydown:o[10]||(o[10]=e.withKeys(we=>H(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(V)(!1)}]),role:"button","aria-label":(J=e.unref(i).ariaLabels)==null?void 0:J.prevMonth},[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,yr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:R,"aria-label":(Ae=e.unref(i).ariaLabels)==null?void 0:Ae.openYearsOverlay,tabindex:"0",onClick:o[11]||(o[11]=()=>w(!1)),onKeydown:o[12]||(o[12]=e.withKeys(()=>w(!1),["enter"]))},[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,pr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:Z,onClick:o[13]||(o[13]=we=>H(!0)),onKeydown:o[14]||(o[14]=e.withKeys(we=>H(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(V)(!0)}]),role:"button","aria-label":($e=e.unref(i).ariaLabels)==null?void 0:$e.nextMonth},[m.$slots["arrow-right"]?e.renderSlot(m.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],10,gr)],544)]),e.createVNode(e.Transition,{name:e.unref(f)(d.value),css:e.unref(k)},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createBlock(Oe,e.mergeProps({key:0},e.unref(F)("year"),{modelValue:e.unref(A),"onUpdate:modelValue":o[15]||(o[15]=we=>e.isRef(A)?A.value=we:null),onToggle:w,onSelected:o[16]||(o[16]=we=>m.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:we})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:we.text,value:we.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[m.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),m.yearPicker?(e.openBlock(),e.createBlock(Oe,e.mergeProps({key:2},e.unref(F)("year"),{modelValue:e.unref(A),"onUpdate:modelValue":o[19]||(o[19]=J=>e.isRef(A)?A.value=J:null),"multi-model-value":e.unref(Y),"skip-active":m.range,"skip-button-ref":"","year-picker":"",onToggle:w,onSelected:o[20]||(o[20]=J=>m.$emit("overlay-closed"))}),e.createSlots({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),kr={key:0,class:"dp__time_input"},wr=["aria-label","onKeydown","onClick"],br=["aria-label","data-test","onKeydown","onClick"],Dr=["aria-label","onKeydown","onClick"],Cr={key:0},Mr=["aria-label","onKeydown"],$r=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:i,setTimePickerBackRef:f}=Ne(),{defaults:k}=be(n),{transitionName:M,showTransition:_}=je(k.value.transitions),V=e.reactive({hours:!1,minutes:!1,seconds:!1}),O=e.ref("AM"),S=e.ref(null),d=e.ref([]);e.onMounted(()=>{a("mounted")});const B=e.computed(()=>u=>!!(n.maxTime&&n.maxTime[u]&&n.maxTime[u]<n[u]+ +n[`${u}Increment`])),L=e.computed(()=>u=>!!(n.minTime&&n.minTime[u]&&n.minTime[u]>n[u]-+n[`${u}Increment`])),R=(u,l)=>c.add(c.set(C(),u),l),Z=(u,l)=>c.sub(c.set(C(),u),l),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),v=e.computed(()=>{const u=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?u.concat([{type:"",separator:!0},{type:"seconds"}]):u}),A=e.computed(()=>v.value.filter(u=>!u.separator)),K=e.computed(()=>u=>{if(u==="hours"){const l=Y(n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[u]<10?`0${n[u]}`:`${n[u]}`,value:n[u]}}),X=u=>{const l=n.is24?24:12,y=u==="hours"?l:60,p=+n[`${u}GridIncrement`],w=u==="hours"&&!n.is24?p:0,z=[];for(let H=w;H<y;H+=p)z.push({value:H,text:H<10?`0${H}`:`${H}`});return u==="hours"&&!n.is24&&z.push({value:0,text:"12"}),Dn(z)},F=(u,l)=>{const y=n.minTime&&n.minTime[l],p=n.maxTime&&n.maxTime[l];return y&&p?u<y||u>p:y?u<y:p?u>p:!1},te=e.computed(()=>u=>X(u).flat().filter(y=>y).map(y=>y.value).filter(y=>F(y,u))),P=u=>n[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],g=u=>{P(u)||(V[u]=!V[u],V[u]||a("overlay-closed"))},T=u=>u==="hours"?c.getHours:u==="minutes"?c.getMinutes:c.getSeconds,b=(u,l=!0)=>{const y=l?R:Z;(l?B.value(u):L.value(u))||a(`update:${u}`,T(u)(y({[u]:+n[u]},{[u]:+n[`${u}Increment`]})))},Y=u=>n.is24?u:(u>=12?O.value="PM":O.value="AM",Bn(u)),W=()=>{O.value==="PM"?(O.value="AM",a("update:hours",n.hours-12)):(O.value="PM",a("update:hours",n.hours+12))},G=u=>{V[u]=!0},$=(u,l,y)=>{if(u&&n.arrowNavigation){Array.isArray(d.value[l])?d.value[l][y]=u:d.value[l]=[u];const p=d.value.reduce((w,z)=>z.map((H,ne)=>[...w[ne]||[],z[ne]]),[]);f(n.closeTimePickerBtn),S.value&&(p[1]=p[1].concat(S.value)),i(p,n.order)}},N=(u,l)=>u==="hours"&&!n.is24?a(`update:${u}`,O.value==="PM"?l+12:l):a(`update:${u}`,l);return r({openChildCmp:G}),(u,l)=>{var y;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",kr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(p,w)=>{var z,H,ne;return e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(e.unref(E))},[p.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(B)(p.type)}),role:"button","data-test":"time-inc-btn","aria-label":(z=e.unref(k).ariaLabels)==null?void 0:z.incrementValue(p.type),tabindex:"0",onKeydown:[e.withKeys(m=>b(p.type),["enter"]),e.withKeys(m=>b(p.type),["space"])],onClick:m=>b(p.type),ref_for:!0,ref:m=>$(m,w,0)},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,wr),e.createElementVNode("div",{role:"button","aria-label":(H=e.unref(k).ariaLabels)==null?void 0:H.openTpOverlay(p.type),class:e.normalizeClass(P(p.type)?"":"dp__time_display"),tabindex:"0","data-test":`${p.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(m=>g(p.type),["enter"]),e.withKeys(m=>g(p.type),["space"])],onClick:m=>g(p.type),ref_for:!0,ref:m=>$(m,w,1)},[u.$slots[p.type]?e.renderSlot(u.$slots,p.type,{key:0,text:e.unref(K)(p.type).text,value:e.unref(K)(p.type).value}):e.createCommentVNode("",!0),u.$slots[p.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(K)(p.type).text),1)],64))],42,br),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(L)(p.type)}),role:"button","data-test":"time-dec-btn","aria-label":(ne=e.unref(k).ariaLabels)==null?void 0:ne.decrementValue(p.type),tabindex:"0",onKeydown:[e.withKeys(m=>b(p.type,!1),["enter"]),e.withKeys(m=>b(p.type,!1),["space"])],onClick:m=>b(p.type,!1),ref_for:!0,ref:m=>$(m,w,2)},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],42,Dr)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Cr,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:W,value:O.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:S,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(y=e.unref(k).ariaLabels)==null?void 0:y.amPmButton,tabindex:"0",onClick:W,onKeydown:[e.withKeys(e.withModifiers(W,["prevent"]),["enter"]),e.withKeys(e.withModifiers(W,["prevent"]),["space"])]},e.toDisplayString(O.value),41,Mr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(A),(p,w)=>(e.openBlock(),e.createBlock(e.Transition,{key:w,name:e.unref(M)(V[p.type]),css:e.unref(_)},{default:e.withCtx(()=>[V[p.type]?(e.openBlock(),e.createBlock(Oe,{key:0,items:X(p.type),"disabled-values":e.unref(k).filters.times[p.type].concat(e.unref(te)(p.type)),"esc-close":u.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":u.hideNavigation,"onUpdate:modelValue":z=>N(p.type,z),onSelected:z=>g(p.type),onToggle:z=>g(p.type),onResetFlow:l[0]||(l[0]=z=>u.$emit("reset-flow")),type:p.type},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:2},[u.$slots[`${p.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:z})=>[e.renderSlot(u.$slots,`${p.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Br=["aria-label"],Sr={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Nr={key:1,class:"dp__overlay_row"},Tr=["aria-label"],Pr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:i,setTimePicker:f}=Ne(),k=e.useSlots(),{hideNavigationButtons:M,defaults:_}=be(n),{transitionName:V,showTransition:O}=je(_.value.transitions),S=e.ref(null),d=e.ref(null),B=e.ref([]),L=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?i([de(S.value)],"time"):f(!0,n.timePicker)});const R=e.computed(()=>n.range&&n.modelAuto?Yt(n.internalModelValue):!0),Z=e.ref(!1),E=b=>({hours:Array.isArray(n.hours)?n.hours[b]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[b]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[b]:n.seconds}),v=e.computed(()=>{const b=[];if(n.range)for(let Y=0;Y<2;Y++)b.push(E(Y));else b.push(E(0));return b}),A=(b,Y=!1,W="")=>{Y||a("reset-flow"),Z.value=b,b&&a("overlay-opened"),n.arrowNavigation&&(f(b),b||a("overlay-closed")),e.nextTick(()=>{W!==""&&B.value[0]&&B.value[0].openChildCmp(W)})},K=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),X=_e(k,"timePicker"),F=(b,Y,W)=>n.range?Y===0?[b,v.value[1][W]]:[v.value[0][W],b]:b,te=b=>{a("update:hours",b)},P=b=>{a("update:minutes",b)},g=b=>{a("update:seconds",b)},T=()=>{L.value&&n.arrowNavigation&&L.value.focus({preventScroll:!0})};return r({toggleTimePicker:A}),(b,Y)=>{var W;return e.openBlock(),e.createElementBlock("div",null,[b.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(W=e.unref(_).ariaLabels)==null?void 0:W.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:S,onKeydown:[Y[0]||(Y[0]=e.withKeys(G=>A(!0),["enter"])),Y[1]||(Y[1]=e.withKeys(G=>A(!0),["space"]))],onClick:Y[2]||(Y[2]=G=>A(!0))},[b.$slots["clock-icon"]?e.renderSlot(b.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Br)),[[e.vShow,!e.unref(M)("time")]]),e.createVNode(e.Transition,{name:e.unref(V)(Z.value),css:e.unref(O)},{default:e.withCtx(()=>{var G;return[Z.value||b.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:L,tabindex:"0"},[e.createElementVNode("div",Sr,[b.$slots["time-picker-overlay"]?e.renderSlot(b.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:te,setMinutes:P,setSeconds:g}):e.createCommentVNode("",!0),b.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Nr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),($,N)=>e.withDirectives((e.openBlock(),e.createBlock($r,e.mergeProps({key:N},{...b.$props,order:N,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:d.value,disabled:N===0?b.fixedStart:b.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:B,"onUpdate:hours":u=>te(F(u,N,"hours")),"onUpdate:minutes":u=>P(F(u,N,"minutes")),"onUpdate:seconds":u=>g(F(u,N,"seconds")),onMounted:T,onOverlayClosed:T}),e.createSlots({_:2},[e.renderList(e.unref(X),(u,l)=>({name:u,fn:e.withCtx(y=>[e.renderSlot(b.$slots,u,e.normalizeProps(e.guardReactiveProps(y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,N===0?!0:e.unref(R)]])),128))])),b.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:d,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(G=e.unref(_).ariaLabels)==null?void 0:G.closeTimePicker,tabindex:"0",onKeydown:[Y[3]||(Y[3]=e.withKeys($=>A(!1),["enter"])),Y[4]||(Y[4]=e.withKeys($=>A(!1),["space"]))],onClick:Y[5]||(Y[5]=$=>A(!1))},[b.$slots["calendar-icon"]?e.renderSlot(b.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ie),{key:1}))],42,Tr)),[[e.vShow,!e.unref(M)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Ar=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:i}=be(r),f=e.ref(null),k=e.ref(C()),M=l=>{!l.current&&r.hideOffsetDates||(f.value=l.value)},_=()=>{f.value=null},V=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&f.value?l?ge(f.value,t.value[0]):pe(f.value,t.value[0]):!0,O=(l,y)=>{const p=()=>t.value?y?t.value[0]||null:t.value[1]:null,w=t.value&&Array.isArray(t.value)?p():null;return oe(C(l.value),w)},S=l=>{const y=Array.isArray(t.value)?t.value[0]:null;return l?!pe(f.value||null,y):!0},d=(l,y=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:oe(C(l.value),t.value[y?0:1]):r.range?O(l,y)&&S(y)||oe(l.value,Array.isArray(t.value)?t.value[0]:null)&&V(y):!1,B=(l,y,p)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:p?ge(t.value[0],y.value):pe(t.value[0],y.value):!1,L=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?oe(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(y=>oe(y,l.value)):oe(l.value,t.value?t.value:k.value),R=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const y=c.addDays(f.value,+r.autoRange),p=i(C(f.value));return r.weekPicker?oe(p[1],C(l.value)):oe(y,C(l.value))}return!1}return!1},Z=l=>{if(r.autoRange||r.weekPicker){if(f.value){const y=c.addDays(f.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const p=i(C(f.value));return r.weekPicker?ge(l.value,p[0])&&pe(l.value,p[1]):ge(l.value,f.value)&&pe(l.value,y)}return!1}return!1},E=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const y=i(C(f.value));return r.weekPicker?oe(y[0],l.value):oe(f.value,l.value)}return!1}return!1},v=l=>Bt(t.value,f.value,l.value),A=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,K=()=>r.modelAuto?Yt(r.internalModelValue):!0,X=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const y=r.range?!d(l)&&!d(l,!1):!0;return!a(l.value)&&!L(l)&&!(!l.current&&r.hideOffsetDates)&&y},F=l=>r.range?r.modelAuto?A()&&L(l):!1:L(l),te=l=>r.highlight?n(l.value,r.highlight):!1,P=l=>a(l.value)&&r.highlightDisabledDays===!1,g=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),T=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&K()&&!(!l.current&&r.hideOffsetDates)&&!L(l)?v(l):!1,b=l=>({dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!P(l)&&(te(l)||g(l))&&!F(l),dp__cell_highlight_active:!P(l)&&(te(l)||g(l))&&F(l),dp__today:!r.noToday&&oe(l.value,k.value)&&l.current}),Y=l=>({dp__active_date:F(l),dp__date_hover:X(l)}),W=l=>({...G(l),...$(l),dp__range_between_week:T(l)&&r.weekPicker}),G=l=>({dp__range_start:r.multiCalendars>0?l.current&&d(l)&&K():d(l)&&K(),dp__range_end:r.multiCalendars>0?l.current&&d(l,!1)&&K():d(l,!1)&&K(),dp__range_between:T(l)&&!r.weekPicker,dp__date_hover_start:B(X(l),l,!0),dp__date_hover_end:B(X(l),l,!1)}),$=l=>({...G(l),dp__cell_auto_range:Z(l),dp__cell_auto_range_start:E(l),dp__cell_auto_range_end:R(l)}),N=l=>r.range?r.autoRange?$(l):r.modelAuto?{...Y(l),...G(l)}:G(l):r.weekPicker?W(l):Y(l);return{setHoverDate:M,clearHoverDate:_,getDayClassData:l=>({...b(l),...N(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},Vr=["id","onKeydown"],_r={key:0,class:"dp__sidebar_left"},Er={key:1,class:"dp__preset_ranges"},Rr=["onClick"],vr={key:2,class:"dp__sidebar_right"},Or={key:3,class:"dp__now_wrap"},Yr=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Te},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:i,setShiftKey:f,control:k}=St(),{getCalendarDays:M,defaults:_}=be(n),V=e.useSlots(),O=e.ref(null),S=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),d=e.ref([]),B=e.ref([]),L=e.ref(null),R=e.ref(null),Z=e.ref(0),E=e.ref(!1),v=e.ref(0);e.onMounted(()=>{var I;E.value=!0,!((I=n.presetRanges)!=null&&I.length)&&!V["left-sidebar"]&&!V["right-sidebar"]&&ae();const h=de(R);if(h&&!n.textInput&&!n.inline&&(i(!0),P()),h){const me=ue=>{Object.keys(V).length||ue.preventDefault(),ue.stopImmediatePropagation(),ue.stopPropagation()};h.addEventListener("pointerdown",me),h.addEventListener("mousedown",me)}window.addEventListener("resize",ae)}),e.onUnmounted(()=>{window.removeEventListener("resize",ae)});const{arrowRight:A,arrowLeft:K,arrowDown:X,arrowUp:F}=Ne(),te=h=>{h||h===0?B.value[h].triggerTransition(W.value(h),G.value(h)):B.value.forEach((I,me)=>I.triggerTransition(W.value(me),G.value(me)))},P=()=>{const h=de(R);h&&h.focus({preventScroll:!0})},g=()=>{var h;(h=n.flow)!=null&&h.length&&v.value!==-1&&(v.value+=1,a("flow-step",v.value),D())},T=()=>{v.value=-1},{calendars:b,modelValue:Y,month:W,year:G,time:$,updateTime:N,updateMonthYear:u,selectDate:l,getWeekNum:y,monthYearSelect:p,handleScroll:w,handleArrow:z,handleSwipe:H,getMarker:ne,selectCurrentDate:m,presetDateRange:o}=En(n,a,g,te,v),{setHoverDate:U,clearHoverDate:ie,getDayClassData:ce}=Ar(Y,n);e.watch(b,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const Me=_e(V,"calendar"),Pe=_e(V,"action"),J=_e(V,"timePicker"),Ae=_e(V,"monthYear"),$e=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),we=e.computed(()=>Mn(n.yearRange)),Q=e.computed(()=>$n(n.locale,n.monthNameFormat)),ae=()=>{const h=de(O);h&&(Z.value=h.getBoundingClientRect().width)},re=e.computed(()=>h=>M(W.value(h),G.value(h))),Be=e.computed(()=>_.value.multiCalendars>0&&n.range?[...Array(_.value.multiCalendars).keys()]:[0]),Se=e.computed(()=>h=>h===1),mt=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:_.value.multiCalendars>0})),Ge=e.computed(()=>({dp__instance_calendar:_.value.multiCalendars>0})),Ye=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),pt=e.computed(()=>h=>ht(re,h)),gt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),ht=(h,I)=>h.value(I).map(me=>({...me,days:me.days.map(ue=>(ue.marker=ne(ue),ue.classData=ce(ue),ue))})),Ze=h=>{h.stopPropagation(),h.stopImmediatePropagation()},Ut=()=>{n.escClose&&a("close-picker")},Ht=(h,I=!1)=>{l(h,I),n.spaceConfirm&&a("select-date")},qe=h=>{var I;(I=n.flow)!=null&&I.length&&(S[h]=!0,Object.keys(S).filter(me=>!S[me]).length||D())},s=(h,I,me,ue,...Xe)=>{if(n.flow[v.value]===h){const j=ue?I.value[0]:I.value;j&&j[me](...Xe)}},D=()=>{s("month",d,"toggleMonthPicker",!0,!0),s("year",d,"toggleYearPicker",!0,!0),s("calendar",L,"toggleTimePicker",!1,!1,!0),s("time",L,"toggleTimePicker",!1,!0,!0);const h=n.flow[v.value];(h==="hours"||h==="minutes"||h==="seconds")&&s(h,L,"toggleTimePicker",!1,!0,!0,h)},x=h=>{if(n.arrowNavigation){if(h==="up")return F();if(h==="down")return X();if(h==="left")return K();if(h==="right")return A()}else h==="left"||h==="up"?z("left",0,h==="up"):z("right",0,h==="down")},q=h=>{f(h.shiftKey),!n.disableMonthYearSelect&&h.code==="Tab"&&h.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(h.preventDefault(),h.stopImmediatePropagation(),a("close-picker"))},se=h=>{d.value[0]&&d.value[0].handleMonthYearChange(h)};return r({updateMonthYear:u}),(h,I)=>{var me;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(me=e.unref(_).transitions)==null?void 0:me.menuAppear,mode:"out-in",css:!!h.transitions},{default:e.withCtx(()=>{var ue,Xe;return[e.createElementVNode("div",{id:h.uid?`dp-menu-${h.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:R,role:"dialog",class:e.normalizeClass(e.unref(gt)),onMouseleave:I[15]||(I[15]=(...j)=>e.unref(ie)&&e.unref(ie)(...j)),onClick:Ze,onKeydown:[e.withKeys(Ut,["esc"]),I[16]||(I[16]=e.withKeys(e.withModifiers(j=>x("left"),["prevent"]),["left"])),I[17]||(I[17]=e.withKeys(e.withModifiers(j=>x("up"),["prevent"]),["up"])),I[18]||(I[18]=e.withKeys(e.withModifiers(j=>x("down"),["prevent"]),["down"])),I[19]||(I[19]=e.withKeys(e.withModifiers(j=>x("right"),["prevent"]),["right"])),q]},[(h.disabled||h.readonly)&&h.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ye))},null,2)):e.createCommentVNode("",!0),!h.inline&&!h.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref($e))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((ue=h.presetRanges)==null?void 0:ue.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"]})},[h.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",_r,[e.renderSlot(h.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:se})))])):e.createCommentVNode("",!0),(Xe=h.presetRanges)!=null&&Xe.length?(e.openBlock(),e.createElementBlock("div",Er,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.presetRanges,(j,Re)=>(e.openBlock(),e.createElementBlock("div",{key:Re,style:e.normalizeStyle(j.style||{}),class:"dp__preset_range",onClick:ee=>e.unref(o)(j.range,!!j.slot)},[j.slot?e.renderSlot(h.$slots,j.slot,{key:0,presetDateRange:e.unref(o),label:j.label,range:j.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.label),1)],64))],12,Rr))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:O,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Be),(j,Re)=>(e.openBlock(),e.createElementBlock("div",{key:j,class:e.normalizeClass(e.unref(Ge))},[!h.disableMonthYearSelect&&!h.timePicker?(e.openBlock(),e.createBlock(hr,e.mergeProps({key:0,ref_for:!0,ref:ee=>{ee&&(d.value[Re]=ee)},months:e.unref(Q),years:e.unref(we),month:e.unref(W)(j),year:e.unref(G)(j),instance:j,"internal-model-value":t.internalModelValue},h.$props,{onMount:I[0]||(I[0]=ee=>qe("monthYearInput")),onResetFlow:T,onUpdateMonthYear:ee=>e.unref(u)(j,ee),onMonthYearSelect:e.unref(p),onOverlayClosed:P}),e.createSlots({_:2},[e.renderList(e.unref(Ae),(ee,Ur)=>({name:ee,fn:e.withCtx(kt=>[e.renderSlot(h.$slots,ee,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(ar,e.mergeProps({ref_for:!0,ref:ee=>{ee&&(B.value[Re]=ee)},"specific-mode":e.unref(mt),"get-week-num":e.unref(y),instance:j,"mapped-dates":e.unref(pt)(j),month:e.unref(W)(j),year:e.unref(G)(j)},h.$props,{"flow-step":v.value,"onUpdate:flowStep":I[1]||(I[1]=ee=>v.value=ee),onSelectDate:ee=>e.unref(l)(ee,!e.unref(Se)(j)),onHandleSpace:ee=>Ht(ee,!e.unref(Se)(j)),onSetHoverDate:I[2]||(I[2]=ee=>e.unref(U)(ee)),onHandleScroll:ee=>e.unref(w)(ee,j),onHandleSwipe:ee=>e.unref(H)(ee,j),onMount:I[3]||(I[3]=ee=>qe("calendar")),onResetFlow:T,onTooltipOpen:I[4]||(I[4]=ee=>h.$emit("tooltip-open",ee)),onTooltipClose:I[5]||(I[5]=ee=>h.$emit("tooltip-close",ee))}),e.createSlots({_:2},[e.renderList(e.unref(Me),(ee,Ur)=>({name:ee,fn:e.withCtx(kt=>[e.renderSlot(h.$slots,ee,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[h.$slots["time-picker"]?e.renderSlot(h.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref($),updateTime:e.unref(N)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[h.enableTimePicker&&!h.monthPicker&&!h.weekPicker?(e.openBlock(),e.createBlock(Pr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:L,hours:e.unref($).hours,minutes:e.unref($).minutes,seconds:e.unref($).seconds,"internal-model-value":t.internalModelValue},h.$props,{onMount:I[6]||(I[6]=j=>qe("timePicker")),"onUpdate:hours":I[7]||(I[7]=j=>e.unref(N)(j)),"onUpdate:minutes":I[8]||(I[8]=j=>e.unref(N)(j,!1)),"onUpdate:seconds":I[9]||(I[9]=j=>e.unref(N)(j,!1,!0)),onResetFlow:T,onOverlayClosed:P,onOverlayOpened:I[10]||(I[10]=j=>h.$emit("time-picker-open",j))}),e.createSlots({_:2},[e.renderList(e.unref(J),(j,Re)=>({name:j,fn:e.withCtx(ee=>[e.renderSlot(h.$slots,j,e.normalizeProps(e.guardReactiveProps(ee)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),h.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",vr,[e.renderSlot(h.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:se})))])):e.createCommentVNode("",!0),h.showNowButton?(e.openBlock(),e.createElementBlock("div",Or,[h.$slots["now-button"]?e.renderSlot(h.$slots,"now-button",{key:0,selectCurrentDate:e.unref(m)}):e.createCommentVNode("",!0),h.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:I[11]||(I[11]=(...j)=>e.unref(m)&&e.unref(m)(...j))},e.toDisplayString(h.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!h.autoApply||h.keepActionRow?(e.openBlock(),e.createBlock(Zn,e.mergeProps({key:2,"menu-mount":E.value,"calendar-width":Z.value,"internal-model-value":t.internalModelValue},h.$props,{onClosePicker:I[12]||(I[12]=j=>h.$emit("close-picker")),onSelectDate:I[13]||(I[13]=j=>h.$emit("select-date")),onInvalidSelect:I[14]||(I[14]=j=>h.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Pe),(j,Re)=>({name:j,fn:e.withCtx(ee=>[e.renderSlot(h.$slots,j,e.normalizeProps(e.guardReactiveProps({...ee})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,Vr)]}),_:3},8,["name","css"])}}}),Ir=typeof window<"u"?window:void 0,dt=()=>{},Lr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,zr=(t,r,a,n)=>{if(!t)return dt;let i=dt;const f=e.watch(()=>e.unref(t),M=>{i(),M&&(M.addEventListener(r,a,n),i=()=>{M.removeEventListener(r,a,n),i=dt})},{immediate:!0,flush:"post"}),k=()=>{f(),i()};return Lr(k),k},xr=(t,r,a,n={})=>{const{window:i=Ir,event:f="pointerdown"}=n;return i?zr(i,f,M=>{const _=de(t),V=de(r);!_||!V||_===M.target||M.composedPath().includes(_)||M.composedPath().includes(V)||a(M)},{passive:!0}):void 0},Kr=e.defineComponent({__name:"VueDatePicker",props:{...Te},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,i=e.useSlots(),f=e.ref(!1),k=e.toRef(n,"modelValue"),M=e.toRef(n,"timezone"),_=e.ref(null),V=e.ref(null),O=e.ref(!1),S=e.ref(null),{setMenuFocused:d,setShiftKey:B}=St(),{clearArrowNav:L}=Ne(),{validateDate:R,isValidTime:Z,defaults:E}=be(n);e.onMounted(()=>{b(n.modelValue),n.inline||(P(S.value).addEventListener("scroll",l),window.addEventListener("resize",y)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const Q=P(S.value);Q&&Q.removeEventListener("scroll",l),window.removeEventListener("resize",y)}});const v=_e(i,"all",n.presetRanges),A=_e(i,"input");e.watch([k,M],()=>{b(k.value)},{deep:!0});const{openOnTop:K,menuPosition:X,setMenuPosition:F,setInitialPosition:te,getScrollableParent:P}=On(_,V,a,n),{inputValue:g,internalModelValue:T,parseExternalModelValue:b,emitModelValue:Y,formatInputValue:W,checkBeforeEmit:G}=Rn(a,n,O),$=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),N=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),u=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),l=()=>{f.value&&(n.closeOnScroll?U():F())},y=()=>{f.value&&F()},p=()=>{!n.disabled&&!n.readonly&&(te(),f.value=!0,e.nextTick().then(()=>{F(),f.value&&a("open")}),f.value||o(),b(n.modelValue))},w=()=>{g.value="",o(),a("update:model-value",null),a("cleared"),U()},z=()=>{const Q=T.value;return!Q||!Array.isArray(Q)&&R(Q)?!0:Array.isArray(Q)?Q.length===2&&R(Q[0])&&R(Q[1])?!0:R(Q[0]):!1},H=()=>{G()&&z()?(Y(),U()):a("invalid-select",T.value)},ne=Q=>{V.value&&n.textInput&&V.value.setParsedDate(T.value),Y(),n.closeOnAutoApply&&!Q&&U()},m=(Q=!1)=>{n.autoApply&&Z(T.value)&&z()&&(n.range&&Array.isArray(T.value)?(n.partialRange||T.value.length===2)&&ne(Q):ne(Q))},o=()=>{n.textInput||(T.value=null)},U=()=>{n.inline||(f.value&&(f.value=!1,d(!1),B(!1),L(),a("closed"),te(),g.value&&b(k.value)),o(),V.value&&V.value.focusInput())},ie=(Q,ae)=>{if(!Q){T.value=null;return}T.value=Q,ae&&(H(),a("text-submit"))},ce=()=>{n.autoApply&&Z(T.value)&&Y()},Me=()=>f.value?U():p(),Pe=Q=>{T.value=Q},J=e.computed(()=>n.textInput&&E.value.textInputOptions.format),Ae=()=>{J.value&&(O.value=!0,W()),a("focus")},$e=()=>{J.value&&(O.value=!1,W()),a("blur")},we=Q=>{_.value&&_.value.updateMonthYear(0,{month:It(Q.month),year:It(Q.year)})};return xr(_,V,n.onClickOutside?()=>n.onClickOutside(z):U),r({closeMenu:U,selectDate:H,clearValue:w,openMenu:p,onScroll:l,formatInputValue:W,updateInternalModelValue:Pe,setMonthYear:we}),(Q,ae)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref($)),ref_key:"pickerWrapperRef",ref:S},[e.createVNode(Hn,e.mergeProps({ref_key:"inputRef",ref:V,"is-menu-open":f.value,"input-value":e.unref(g),"onUpdate:inputValue":ae[0]||(ae[0]=re=>e.isRef(g)?g.value=re:null)},Q.$props,{onClear:w,onOpen:p,onSetInputDate:ie,onSetEmptyDate:e.unref(Y),onSelectDate:H,onToggle:Me,onClose:U,onFocus:Ae,onBlur:$e}),e.createSlots({_:2},[e.renderList(e.unref(A),(re,Be)=>({name:re,fn:e.withCtx(Se=>[e.renderSlot(Q.$slots,re,e.normalizeProps(e.guardReactiveProps(Se)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Q.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(u))),{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createBlock(Yr,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:_,class:e.unref(N),style:e.unref(X),"open-on-top":e.unref(K)},Q.$props,{"internal-model-value":e.unref(T),"onUpdate:internalModelValue":ae[1]||(ae[1]=re=>e.isRef(T)?T.value=re:null),onClosePicker:U,onSelectDate:H,onAutoApply:m,onTimeUpdate:ce,onFlowStep:ae[2]||(ae[2]=re=>Q.$emit("flow-step",re)),onUpdateMonthYear:ae[3]||(ae[3]=re=>Q.$emit("update-month-year",re)),onInvalidSelect:ae[4]||(ae[4]=re=>Q.$emit("invalid-select",e.unref(T))),onInvalidFixedRange:ae[5]||(ae[5]=re=>Q.$emit("invalid-fixed-range",re)),onRecalculatePosition:e.unref(F),onTooltipOpen:ae[6]||(ae[6]=re=>Q.$emit("tooltip-open",re)),onTooltipClose:ae[7]||(ae[7]=re=>Q.$emit("tooltip-close",re)),onTimePickerOpen:ae[8]||(ae[8]=re=>Q.$emit("time-picker-open",re))}),e.createSlots({_:2},[e.renderList(e.unref(v),(re,Be)=>({name:re,fn:e.withCtx(Se=>[e.renderSlot(Q.$slots,re,e.normalizeProps(e.guardReactiveProps({...Se})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),ft=(()=>{const t=Kr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(ft[t]=r)}),ft});
